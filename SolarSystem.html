<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –¢—É—Ä–∞–Ω | –ê–ª–º–∞—Ç—ã</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'solar_style.css' %}">
</head>
<body>
    <header>
        <h1>üéì –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç ¬´–¢—É—Ä–∞–Ω¬ª</h1>
        <nav>
            <ul>
                <li><a href="#intro">–û –Ω–∞—Å</a></li>
                <li><a href="#3dtour">3D-—Ç—É—Ä</a></li>
                <li><a href="#programs">–ü—Ä–æ–≥—Ä–∞–º–º—ã</a></li>
                <li><a href="#facts">–§–∞–∫—É–ª—å—Ç–µ—Ç—ã</a></li>
                <li><a href="#contacts">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
            </ul>
        </nav>
        <hr>
    </header>

    <main>
        <section id="intro">
            <h2>–û –Ω–∞—Å</h2>
            <p>–£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç ¬´–¢—É—Ä–∞–Ω¬ª –±—ã–ª —É—á—Ä–µ–∂–¥–µ–Ω –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ <strong>1992 –≥–æ–¥—É</strong> –≤ –≥. –ê–ª–º–∞—Ç—ã –∏ —è–≤–ª—è–µ—Ç—Å—è —è–¥—Ä–æ–º –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏.</p>
            <p>üèÜ <strong>6 –º–µ—Å—Ç–æ</strong> –≤ –ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º —Ä–µ–π—Ç–∏–Ω–≥–µ –≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ –í–£–ó–æ–≤ –†–ö 2025</p>
            <p>üìö <strong>29 –ø—Ä–æ–≥—Ä–∞–º–º –±–∞–∫–∞–ª–∞–≤—Ä–∏–∞—Ç–∞</strong> | <strong>29 –ø—Ä–æ–≥—Ä–∞–º–º –º–∞–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä—ã</strong> | <strong>7 –ø—Ä–æ–≥—Ä–∞–º–º –¥–æ–∫—Ç–æ—Ä–∞–Ω—Ç—É—Ä—ã</strong></p>
        </section>

        <section id="3dtour">
            <h2>üèõÔ∏è –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π 3D-—Ç—É—Ä –ø–æ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç—É</h2>
            <p>–ò—Å—Å–ª–µ–¥—É–π—Ç–µ –∫–∞–º–ø—É—Å —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ ¬´–¢—É—Ä–∞–Ω¬ª –Ω–µ –≤—ã—Ö–æ–¥—è –∏–∑ –¥–æ–º–∞!</p>
            <div style="width: 100%; max-width: 1200px; margin: 20px auto; border-radius: 15px; overflow: hidden; box-shadow: 0 10px 40px rgba(0,0,0,0.3);">
                <iframe 
                    src="https://vrmir3d.com/TuranEdu_3/" 
                    width="100%" 
                    height="600" 
                    frameborder="0" 
                    allowfullscreen
                    style="display: block;">
                </iframe>
            </div>
            <p style="text-align: center; margin-top: 15px;">
                <a href="https://vrmir3d.com/TuranEdu_3/" target="_blank" style="color: #667eea;">üîó –û—Ç–∫—Ä—ã—Ç—å –Ω–∞ –ø–æ–ª–Ω—ã–π —ç–∫—Ä–∞–Ω</a>
            </p>
        </section>

        <section id="programs">
            <h2>üìö –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã</h2>
            <p>–£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É –ø–æ —à–∏—Ä–æ–∫–æ–º—É —Å–ø–µ–∫—Ç—Ä—É –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π:</p>
            
            <h3>–ë–∞–∫–∞–ª–∞–≤—Ä–∏–∞—Ç (–ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã)</h3>
            <ul>
                <li>
                    <h4>‚öñÔ∏è –Æ—Ä–∏—Å–ø—Ä—É–¥–µ–Ω—Ü–∏—è</h4>
                    <p>–ö–æ–¥: 6–í04201. 30+ –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤, —é—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –∫–ª–∏–Ω–∏–∫–∞, –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã.</p>
                </li>
                <li>
                    <h4>üíª –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã</h4>
                    <p>–ö–æ–¥: 6–í06101. AI, –±–ª–æ–∫—á–µ–π–Ω, –º–æ–±–∏–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞. –ü–∞—Ä—Ç–Ω—ë—Ä—ã: Kaspi, Kazahtelekom.</p>
                </li>
                <li>
                    <h4>üìä –≠–∫–æ–Ω–æ–º–∏–∫–∞</h4>
                    <p>–ö–æ–¥: 6–í04103. 95% —Ç—Ä—É–¥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, Bloomberg Terminal, 20+ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤.</p>
                </li>
                <li>
                    <h4>üé¨ –†–µ–∂–∏—Å—Å—É—Ä–∞</h4>
                    <p>–ö–æ–¥: 6–í02101. –ü–∞—Ä—Ç–Ω—ë—Ä—ã: –í–ì–ò–ö, –ù—å—é-–ô–æ—Ä–∫—Å–∫–∞—è –∫–∏–Ω–æ–∞–∫–∞–¥–µ–º–∏—è.</p>
                </li>
            </ul>

            <h3>–ë–∏–∑–Ω–µ—Å-–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</h3>
            <ul>
                <li>
                    <h4>üìà MBA General</h4>
                    <p>2 –≥–æ–¥–∞. –°—Ç–æ–∏–º–æ—Å—Ç—å: 1,950,000 - 2,600,000 —Ç–µ–Ω–≥–µ/–≥–æ–¥.</p>
                </li>
                <li>
                    <h4>üèÜ Executive MBA</h4>
                    <p>1 –≥–æ–¥ –¥–ª—è —Ç–æ–ø-–º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ —Å –æ–ø—ã—Ç–æ–º 2+ –≥–æ–¥–∞.</p>
                </li>
                <li>
                    <h4>üéì DBA (Doctor of Business Administration)</h4>
                    <p>3 –≥–æ–¥–∞. –í—ã—Å—à–∞—è —Å—Ç–µ–ø–µ–Ω—å –≤ –±–∏–∑–Ω–µ—Å-–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏.</p>
                </li>
            </ul>
        </section>

        <section id="facts">
            <h2>üè´ –§–∞–∫—É–ª—å—Ç–µ—Ç—ã</h2>
            <table border="1" class="styled-table">
                <thead>
                    <tr>
                        <th>–§–∞–∫—É–ª—å—Ç–µ—Ç</th>
                        <th>–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è</th>
                        <th>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>–≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π</td>
                        <td>–≠–∫–æ–Ω–æ–º–∏–∫–∞, –§–∏–Ω–∞–Ω—Å—ã, –£—á—ë—Ç –∏ –∞—É–¥–∏—Ç, –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥, –õ–æ–≥–∏—Å—Ç–∏–∫–∞</td>
                        <td>Bloomberg Terminal, Apple Digital Lab</td>
                    </tr>
                    <tr>
                        <td>–ì—É–º–∞–Ω–∏—Ç–∞—Ä–Ω–æ-—é—Ä–∏–¥–∏—á–µ—Å–∫–∏–π</td>
                        <td>–Æ—Ä–∏—Å–ø—Ä—É–¥–µ–Ω—Ü–∏—è, –ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è, –ü—Å–∏—Ö–æ–ª–æ–≥–∏—è, –ñ—É—Ä–Ω–∞–ª–∏—Å—Ç–∏–∫–∞</td>
                        <td>–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –∫–ª–∏–Ω–∏–∫–∞, TURAN MUN</td>
                    </tr>
                    <tr>
                        <td>–¶–∏—Ñ—Ä–æ–≤—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∏ –∏—Å–∫—É—Å—Å—Ç–≤</td>
                        <td>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã, –†–µ–∂–∏—Å—Å—É—Ä–∞, –ü–µ—Ä–µ–≤–æ–¥—á–µ—Å–∫–æ–µ –¥–µ–ª–æ</td>
                        <td>Turan GameDEV, TURAN CHANNEL</td>
                    </tr>
                    <tr>
                        <td>–î–µ–ª–æ–≤–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è</td>
                        <td>MBA, EMBA, DBA</td>
                        <td>Graduate School of Business</td>
                    </tr>
                    <tr>
                        <td>Foundation</td>
                        <td>–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã</td>
                        <td>Kinder MBA, Junior MBA, Teen MBA</td>
                    </tr>
                </tbody>
            </table>
        </section>
    </main>

    <footer id="main-footer">
        <hr>
        <section id="contacts">
            <h1>üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã</h1>
            <p><strong>–ê–¥—Ä–µ—Å:</strong> –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω, –≥. –ê–ª–º–∞—Ç—ã, —É–ª. –°–∞—Ç–ø–∞–µ–≤–∞ 16–∞</p>
            <p><strong>–ü—Ä–∏—ë–º–Ω–∞—è –∫–æ–º–∏—Å—Å–∏—è:</strong> +7 (727) 260-40-00</p>
            <p><strong>Email:</strong> info@turan-edu.kz</p>
        </section>
        
        <button onclick="MyTelegram.showModal()" style="background-color: #667eea; color: white; border: none; padding: 10px 20px; cursor: pointer; border-radius: 5px;">üì± Telegram</button>
        <dialog id="MyTelegram" style="border: 1px solid #667eea; padding: 20px; border-radius: 10px;">
            <a href="https://t.me/turan_university" target="_blank">Telegram —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞</a>
            <br><br>
            <button onclick="MyTelegram.close()" style="background-color: #667eea; color: white; border: none; padding: 5px 15px; cursor: pointer; border-radius: 5px;">OK</button>
        </dialog>

        <button onclick="MyPhone.showModal()" style="background-color: #667eea; color: white; border: none; padding: 10px 20px; cursor: pointer; margin-left: 10px; border-radius: 5px;">üìû –ü–æ–∑–≤–æ–Ω–∏—Ç—å</button>
        <dialog id="MyPhone" style="border: 1px solid #667eea; padding: 20px; border-radius: 10px;">
            <p><strong>–ü—Ä–∏—ë–º–Ω–∞—è –∫–æ–º–∏—Å—Å–∏—è:</strong> +7 (727) 260-40-00</p>
            <p><strong>Graduate School of Business:</strong> +7 (727) 260-40-13</p>
            <button onclick="MyPhone.close()" style="background-color: #667eea; color: white; border: none; padding: 5px 15px; cursor: pointer; border-radius: 5px;">OK</button>
        </dialog>
        
        <div style="margin-top: 20px;">
            <a href="https://www.instagram.com/univer_turan/" target="_blank" style="margin-right: 15px;">üì∏ Instagram</a>
            <a href="https://www.facebook.com/turan.univer" target="_blank" style="margin-right: 15px;">üìò Facebook</a>
            <a href="https://youtube.com/@TuranChannel" target="_blank">‚ñ∂Ô∏è YouTube</a>
        </div>
        
        <p style="margin-top: 20px;">¬©2025 –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç ¬´–¢—É—Ä–∞–Ω¬ª. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
    </footer>

    <!-- –ü–ª–∞–≤–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞ –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ -->
    <button id="aiAssistantBtn" onclick="toggleAIChat()" style="position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px; border-radius: 50%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; font-size: 28px; cursor: pointer; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4); z-index: 1000; transition: transform 0.3s;">
        ü§ñ
    </button>

    <!-- –û–∫–Ω–æ —á–∞—Ç–∞ —Å –ò–ò -->
    <div id="aiChatWindow" style="position: fixed; bottom: 100px; right: 30px; width: 350px; height: 500px; background-color: #1f2b47; border-radius: 15px; box-shadow: 0 10px 40px rgba(0,0,0,0.5); z-index: 999; display: none; flex-direction: column; overflow: hidden;">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —á–∞—Ç–∞ -->
        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 15px; color: white; border-radius: 15px 15px 0 0; display: flex; justify-content: space-between; align-items: center;">
            <div>
                <h3 style="margin: 0; font-size: 18px;">üéì –¢—É—Ä–∞–Ω-–±–æ—Ç</h3>
                <p style="margin: 3px 0 0 0; font-size: 12px; opacity: 0.9;">–¢–≤–æ–π –≥–∏–¥ –ø–æ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç—É</p>
            </div>
            <div style="display: flex; gap: 10px; align-items: center;">
                <button onclick="clearChatHistory()" title="–û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é" style="background: rgba(255,255,255,0.2); border: none; color: white; font-size: 16px; cursor: pointer; padding: 5px 8px; border-radius: 5px;">üóëÔ∏è</button>
                <button onclick="toggleAIChat()" style="background: transparent; border: none; color: white; font-size: 24px; cursor: pointer; padding: 0; width: 30px; height: 30px;">√ó</button>
            </div>
        </div>
        
        <!-- –û–±–ª–∞—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–π -->
        <div id="aiChatMessages" style="flex: 1; padding: 15px; overflow-y: auto; background-color: #16213e;">
            <div style="background-color: #2c3e50; padding: 10px; border-radius: 10px; margin-bottom: 10px;">
                <p style="margin: 0; color: #e0e0e0; font-size: 14px;">–ü—Ä–∏–≤–µ—Ç! üëã –Ø –¢—É—Ä–∞–Ω-–±–æ—Ç ‚Äî —Ä–∞—Å—Å–∫–∞–∂—É –≤—Å—ë –ø—Ä–æ —É–Ω–∏–≤–µ—Ä: —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏, —Ü–µ–Ω—ã, –≥—Ä–∞–Ω—Ç—ã, –∫–∞–∫ –ø–æ—Å—Ç—É–ø–∏—Ç—å. –°–ø—Ä–∞—à–∏–≤–∞–π! –ê –µ—Å–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—à—å—Å—è ‚Äî –±—É–¥–µ—Ç –ø—Ä–∏—è—Ç–Ω–µ–µ –æ–±—â–∞—Ç—å—Å—è üòä</p>
            </div>
        </div>
        
        <!-- –ü–æ–ª–µ –≤–≤–æ–¥–∞ -->
        <div style="padding: 15px; background-color: #1f2b47; border-top: 1px solid #2c3e50;">
            <div style="display: flex; gap: 10px;">
                <input type="text" id="aiChatInput" placeholder="–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å..." style="flex: 1; padding: 10px; border-radius: 20px; border: 1px solid #667eea; background-color: #16213e; color: #e0e0e0; font-size: 14px;">
                <button onclick="sendAIMessage()" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 10px 20px; border-radius: 20px; cursor: pointer; font-weight: bold;">‚û§</button>
            </div>
        </div>
    </div>

    <script>
        // üß† –ò—Å—Ç–æ—Ä–∏—è —Ä–∞–∑–≥–æ–≤–æ—Ä–∞ –¥–ª—è –ø–∞–º—è—Ç–∏ –ò–ò
        let conversationHistory = [];
        
        function toggleAIChat() {
            const chatWindow = document.getElementById('aiChatWindow');
            const btn = document.getElementById('aiAssistantBtn');
            
            if (chatWindow.style.display === 'none' || chatWindow.style.display === '') {
                chatWindow.style.display = 'flex';
                btn.style.transform = 'scale(0.9)';
            } else {
                chatWindow.style.display = 'none';
                btn.style.transform = 'scale(1)';
            }
        }
        
        // –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é —á–∞—Ç–∞
        function clearChatHistory() {
            conversationHistory = [];
            const messagesDiv = document.getElementById('aiChatMessages');
            messagesDiv.innerHTML = `
                <div style="background-color: #2c3e50; padding: 10px; border-radius: 10px; margin-bottom: 10px;">
                    <p style="margin: 0; color: #e0e0e0; font-size: 14px;">–ù–∞—á–∏–Ω–∞–µ–º —Å–Ω–∞—á–∞–ª–∞! üîÑ –Ø –¢—É—Ä–∞–Ω-–±–æ—Ç ‚Äî —Å–ø—Ä–∞—à–∏–≤–∞–π —á—Ç–æ —É–≥–æ–¥–Ω–æ –ø—Ä–æ —É–Ω–∏–≤–µ—Ä, –ø–æ–º–æ–≥—É —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è! üòä</p>
                </div>
            `;
        }

        function sendAIMessage() {
            const input = document.getElementById('aiChatInput');
            const messagesDiv = document.getElementById('aiChatMessages');
            const message = input.value.trim();
            
            if (message) {
                // –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                const userMsg = document.createElement('div');
                userMsg.style.marginBottom = '10px';
                userMsg.style.textAlign = 'right';
                userMsg.innerHTML = `
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 10px; border-radius: 15px 15px 0 15px; display: inline-block; max-width: 80%; text-align: left;">
                        <p style="margin: 0; color: white; font-size: 14px;">${message}</p>
                    </div>
                `;
                messagesDiv.appendChild(userMsg);
                
                // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
                conversationHistory.push({ role: 'user', content: message });
                
                input.value = '';
                messagesDiv.scrollTop = messagesDiv.scrollHeight;
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
                const loadingMsg = document.createElement('div');
                loadingMsg.id = 'loadingIndicator';
                loadingMsg.style.marginBottom = '10px';
                loadingMsg.innerHTML = `
                    <div style="background-color: #2c3e50; padding: 10px; border-radius: 15px 15px 15px 0; max-width: 80%;">
                        <p style="margin: 0; color: #e0e0e0; font-size: 14px;">‚è≥ –î—É–º–∞—é...</p>
                    </div>
                `;
                messagesDiv.appendChild(loadingMsg);
                messagesDiv.scrollTop = messagesDiv.scrollHeight;
                
                // –û—Ç–≤–µ—Ç –ò–ò (–æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å –∏—Å—Ç–æ—Ä–∏–µ–π)
                fetch('/ai-chat/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ 
                        message: message,
                        history: conversationHistory.slice(-20)  // –ü–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
                    })
                })
                .then(response => response.json())
                .then(data => {
                    // –£–±–∏—Ä–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
                    const loading = document.getElementById('loadingIndicator');
                    if (loading) loading.remove();
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –æ—Ç–≤–µ—Ç –≤ –∏—Å—Ç–æ—Ä–∏—é
                    conversationHistory.push({ role: 'assistant', content: data.response });
                    
                    const aiMsg = document.createElement('div');
                    aiMsg.style.marginBottom = '10px';
                    aiMsg.innerHTML = `
                        <div style="background-color: #2c3e50; padding: 10px; border-radius: 15px 15px 15px 0; max-width: 80%;">
                            <p style="margin: 0; color: #e0e0e0; font-size: 14px; white-space: pre-wrap;">${data.response}</p>
                        </div>
                    `;
                    messagesDiv.appendChild(aiMsg);
                    messagesDiv.scrollTop = messagesDiv.scrollHeight;
                })
                .catch(error => {
                    console.error('–û—à–∏–±–∫–∞:', error);
                    // –£–±–∏—Ä–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
                    const loading = document.getElementById('loadingIndicator');
                    if (loading) loading.remove();
                    
                    const aiMsg = document.createElement('div');
                    aiMsg.style.marginBottom = '10px';
                    aiMsg.innerHTML = `
                        <div style="background-color: #2c3e50; padding: 10px; border-radius: 15px 15px 15px 0; max-width: 80%;">
                            <p style="margin: 0; color: #e0e0e0; font-size: 14px;">üòî –ò–∑–≤–∏–Ω–∏—Ç–µ, –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑.</p>
                        </div>
                    `;
                    messagesDiv.appendChild(aiMsg);
                    messagesDiv.scrollTop = messagesDiv.scrollHeight;
                });
            }
        }

        // –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ Enter
        document.getElementById('aiChatInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendAIMessage();
            }
        });

        // –ê–Ω–∏–º–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏
        document.getElementById('aiAssistantBtn').addEventListener('mouseenter', function() {
            this.style.transform = 'scale(1.1)';
        });
        
        document.getElementById('aiAssistantBtn').addEventListener('mouseleave', function() {
            if (document.getElementById('aiChatWindow').style.display !== 'flex') {
                this.style.transform = 'scale(1)';
            }
        });
    </script>
    </footer>
</body>
</html>