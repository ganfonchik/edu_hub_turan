{% extends 'base.html' %}
{% load static %}

{% block title %}–£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç—ã –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞ | Edu Hub{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{% static 'css/pages/universities-list.css' %}">
{% endblock %}

{% block content %}
<!-- Header -->
<header class="page-header">
    <div class="section-label">–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</div>
    <h1>–£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç—ã <span>–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞</span></h1>
    <p>–í—ã–±–µ—Ä–∏ —Å–≤–æ–π –±—É–¥—É—â–∏–π –≤—É–∑. –ú—ã —Å–æ–±—Ä–∞–ª–∏ –ª—É—á—à–∏–µ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç—ã —Å—Ç—Ä–∞–Ω—ã —Å –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.</p>
    <a href="/compare/" class="compare-cta-btn">
        ü§ñ –ü–æ–º–æ—â—å AI –≤ –≤—ã–±–æ—Ä–µ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞
    </a>
</header>

<!-- Filters -->
<div class="filters">
    <button class="filter-btn active" data-filter="all">–í—Å–µ</button>
    <button class="filter-btn" data-filter="national">–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ</button>
    <button class="filter-btn" data-filter="private">–ß–∞—Å—Ç–Ω—ã–µ</button>
    <button class="filter-btn" data-filter="autonomous">–ê–≤—Ç–æ–Ω–æ–º–Ω—ã–µ</button>
    <button class="filter-btn" data-filter="almaty">–ê–ª–º–∞—Ç—ã</button>
    <button class="filter-btn" data-filter="astana">–ê—Å—Ç–∞–Ω–∞</button>
</div>

<!-- Universities Grid -->
<div class="universities-container">
    <div class="universities-grid">
        {% for uni in universities %}
        <a href="/university/{{ uni.slug }}/" class="uni-card" data-type="{{ uni.filter_type }}" data-city="{{ uni.city_filter }}">
            <div class="uni-card-image">
                <span>–§–æ—Ç–æ</span>
            </div>
            <div class="uni-card-body">
                <div class="uni-type">{{ uni.type }}</div>
                <h3>{{ uni.name }}</h3>
                <p>{{ uni.tagline|truncatewords:12 }}</p>
                <div class="uni-meta">
                    <span>{{ uni.city }}</span>
                    <span>{{ uni.students }} —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</span>
                </div>
                <div class="uni-price">–æ—Ç {{ uni.price_from }} —Ç–≥/–≥–æ–¥</div>
            </div>
        </a>
        {% endfor %}
    </div>
</div>

<!-- CTA Banner -->
<section class="cta-section">
    <div class="cta-box">
        <h2>–ù–µ –∑–Ω–∞–µ—à—å –∫–∞–∫–æ–π –≤—É–∑ –≤—ã–±—Ä–∞—Ç—å?</h2>
        <p>–ò—Å–ø–æ–ª—å–∑—É–π AI –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤ –∏–ª–∏ –ø—Ä–æ–π–¥–∏ —Ç–µ—Å—Ç –ø—Ä–æ—Ñ–æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏</p>
        <div style="display: flex; gap: 16px; justify-content: center; flex-wrap: wrap;">
            <a href="/compare/" class="btn btn-primary btn-large">ü§ñ –°—Ä–∞–≤–Ω–∏—Ç—å —Å –ø–æ–º–æ—â—å—é AI</a>
            <a href="/test/" class="btn btn-secondary btn-large">üìã –¢–µ—Å—Ç –ø—Ä–æ—Ñ–æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏</a>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
    // Filter functionality
    document.querySelectorAll('.filter-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            
            const filter = this.dataset.filter;
            const cards = document.querySelectorAll('.uni-card');
            
            cards.forEach(card => {
                if (filter === 'all') {
                    card.style.display = 'flex';
                } else if (filter === 'almaty' || filter === 'astana' || filter === 'kaskelen') {
                    card.style.display = card.dataset.city === filter ? 'flex' : 'none';
                } else {
                    card.style.display = card.dataset.type.includes(filter) ? 'flex' : 'none';
                }
            });
        });
    });
</script>
{% endblock %}
