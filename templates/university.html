{% extends 'base.html' %}
{% load static %}

{% block title %}{{ university.name }} | Edu Hub{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{% static 'css/pages/university.css' %}">
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="uni-hero">
    <div class="container">
        <div class="hero-top">
            <div class="hero-title">
                <h1>{{ university.name_short }}<span>{{ university.name_full }}</span></h1>
            </div>
            <div class="hero-subtitle">
                <p>{{ university.tagline }}</p>
                <a href="#about" class="explore-link">–£–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ</a>
            </div>
        </div>
        
        <!-- Bento Grid Images -->
        <div class="hero-images">
            <div class="hero-img hero-img-1">
                <span>–§–æ—Ç–æ –∫–∞–º–ø—É—Å–∞</span>
            </div>
            <div class="hero-img hero-img-2">
                <span>–ì–ª–∞–≤–Ω—ã–π –∫–æ—Ä–ø—É—Å</span>
            </div>
            <div class="hero-img hero-img-3">
                <span>–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞</span>
            </div>
            <div class="hero-img hero-img-4">
                <span>–°—Ç—É–¥–µ–Ω—Ç—ã</span>
            </div>
        </div>
    </div>
</section>

<!-- About Section -->
<section class="about-section" id="about">
    <div class="container">
        <div class="about-grid">
            <div class="about-image">
                <span>–§–æ—Ç–æ</span>
            </div>
            <div class="about-content">
                <div class="section-label">–û –Ω–∞—Å</div>
                <h2>–í—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –∫–æ–º—Ñ–æ—Ä—Ç–∞, —É–¥–æ–±—Å—Ç–≤–∞ –∏ —Å–µ—Ä–≤–∏—Å–∞</h2>
                <div class="about-text">
                    {{ university.description|safe }}
                </div>
                <a href="{{ university.website }}" class="about-link" target="_blank">–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ –Ω–∞—Å</a>
            </div>
            <div class="about-image-right">
                <span>–§–æ—Ç–æ</span>
            </div>
        </div>
    </div>
</section>

<!-- Why Choose Us Section -->
<section class="why-section">
    <div class="container">
        <h2>–ü–æ—á–µ–º—É –≤—ã–±–∏—Ä–∞—é—Ç {{ university.name_short }}?</h2>
        <div class="why-grid">
            {% for advantage in university.advantages|slice:":4" %}
            <div class="why-item">
                <h4>{{ advantage.title }}</h4>
                <p>{{ advantage.description }}</p>
                <div class="why-icon">{{ advantage.icon }}</div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Faculties / Services Section -->
<section class="services-section">
    <div class="container">
        <div class="services-header">
            <div class="section-label">–§–∞–∫—É–ª—å—Ç–µ—Ç—ã</div>
            <h2>–ß—Ç–æ –º—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º?</h2>
            <p>–í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ —É–∑–Ω–∞–π—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–µ–µ –æ –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ö –æ–±—É—á–µ–Ω–∏—è</p>
        </div>
        
        <div class="services-grid">
            <div class="services-tabs">
                {% for faculty in university.faculties %}
                <button class="service-tab {% if forloop.first %}active{% endif %}" data-index="{{ forloop.counter0 }}">{{ faculty.name|truncatewords:3 }}</button>
                {% endfor %}
            </div>
            
            <div class="service-image">
                <span>–§–æ—Ç–æ —Ñ–∞–∫—É–ª—å—Ç–µ—Ç–∞</span>
            </div>
            
            <div class="service-content">
                <div class="section-label">–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</div>
                {% for faculty in university.faculties %}
                <div class="faculty-content {% if forloop.first %}active{% endif %}" data-faculty="{{ forloop.counter0 }}">
                    <h3>{{ faculty.icon }} {{ faculty.name }}</h3>
                    <p>{{ faculty.description }}</p>
                    
                    {% if faculty.programs %}
                    <div class="programs-list">
                        <h4>üìö –ü—Ä–æ–≥—Ä–∞–º–º—ã –æ–±—É—á–µ–Ω–∏—è:</h4>
                        {% for program in faculty.programs %}
                        <div class="program-item">
                            <div class="program-header">
                                <span class="program-name">{{ program.name }}</span>
                                <span class="program-price">{{ program.price }} —Ç–≥/–≥–æ–¥</span>
                            </div>
                            <p class="program-info">{{ program.info }}</p>
                        </div>
                        {% endfor %}
                    </div>
                    {% endif %}
                    
                    <div class="specialties-list">
                        {% for spec in faculty.specialties %}
                        <span class="specialty-tag">{{ spec }}</span>
                        {% endfor %}
                    </div>
                </div>
                {% endfor %}
                
                <a href="{{ university.admission_url }}" class="about-link" style="margin-top: 24px; display: inline-flex;" target="_blank">–ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É</a>
            </div>
        </div>
    </div>
</section>

<!-- Quick Info Section -->
<section class="info-section">
    <div class="container">
        <div class="info-grid">
            <div class="info-card">
                <h3>üìã –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                <div class="info-row">
                    <span class="info-label">–ì–æ—Ä–æ–¥</span>
                    <span class="info-value">{{ university.city }}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">–ì–æ–¥ –æ—Å–Ω–æ–≤–∞–Ω–∏—è</span>
                    <span class="info-value">{{ university.founded }}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">–°—Ç—É–¥–µ–Ω—Ç–æ–≤</span>
                    <span class="info-value">{{ university.students }}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">–ü—Ä–æ–≥—Ä–∞–º–º</span>
                    <span class="info-value">{{ university.programs }}</span>
                </div>
            </div>
            
            <div class="info-card">
                <h3>üí∞ –û–±—É—á–µ–Ω–∏–µ</h3>
                <div class="info-row">
                    <span class="info-label">–§–æ—Ä–º–∞ –æ–±—É—á–µ–Ω–∏—è</span>
                    <span class="info-value">{{ university.study_forms }}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">–Ø–∑—ã–∫ –æ–±—É—á–µ–Ω–∏—è</span>
                    <span class="info-value">{{ university.languages }}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">–°—Ç–æ–∏–º–æ—Å—Ç—å –æ—Ç</span>
                    <span class="info-value">{{ university.price_from }} —Ç–≥/–≥–æ–¥</span>
                </div>
                <div class="info-row">
                    <span class="info-label">–û–±—â–µ–∂–∏—Ç–∏–µ</span>
                    <span class="info-value">{{ university.dormitory }}</span>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Contact Section -->
<section class="contact-section">
    <div class="container">
        <div class="contact-header">
            <h2>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
        </div>
        <div class="contact-grid">
            <div class="contact-info">
                <div class="contact-item">
                    <div class="contact-icon">üìç</div>
                    <div class="contact-details">
                        <h4>–ê–¥—Ä–µ—Å</h4>
                        <p>{{ university.address }}</p>
                    </div>
                </div>
                
                <div class="contact-item">
                    <div class="contact-icon">üìû</div>
                    <div class="contact-details">
                        <h4>–¢–µ–ª–µ—Ñ–æ–Ω</h4>
                        <p><a href="tel:{{ university.phone }}">{{ university.phone }}</a></p>
                    </div>
                </div>
                
                <div class="contact-item">
                    <div class="contact-icon">üìß</div>
                    <div class="contact-details">
                        <h4>Email</h4>
                        <p><a href="mailto:{{ university.email }}">{{ university.email }}</a></p>
                    </div>
                </div>
                
                <div class="contact-item">
                    <div class="contact-icon">üïê</div>
                    <div class="contact-details">
                        <h4>–ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã</h4>
                        <p>{{ university.working_hours }}</p>
                    </div>
                </div>

                <div class="social-links">
                    {% if university.instagram %}
                    <a href="{{ university.instagram }}" class="social-link" target="_blank">üì∏</a>
                    {% endif %}
                    {% if university.telegram %}
                    <a href="{{ university.telegram }}" class="social-link" target="_blank">‚úàÔ∏è</a>
                    {% endif %}
                    {% if university.youtube %}
                    <a href="{{ university.youtube }}" class="social-link" target="_blank">‚ñ∂Ô∏è</a>
                    {% endif %}
                </div>
            </div>
            
            <div class="info-card" style="padding: 0; overflow: hidden;">
                <iframe src="{{ university.map_2gis }}" style="width: 100%; height: 100%; min-height: 400px; border: none;"></iframe>
            </div>
        </div>
    </div>
</section>

<!-- Map Section (2GIS) -->
<section class="map-section">
    <div class="container">
        <h3>üìç –ö–∞–∫ –Ω–∞—Å –Ω–∞–π—Ç–∏ (2–ì–ò–°)</h3>
        <div class="map-wrapper">
            <iframe src="{{ university.map_2gis }}" allowfullscreen></iframe>
        </div>
    </div>
</section>

<!-- Virtual Tour Section -->
<section class="tour-section" id="tour">
    <div class="container">
        <div class="tour-header">
            <h2>üé• –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π 3D-—Ç—É—Ä –ø–æ –∫–∞–º–ø—É—Å—É</h2>
        </div>
        <div class="tour-grid">
            <div class="tour-frame-wrapper">
                {% if university.tour_url %}
                <iframe src="{{ university.tour_url }}" allowfullscreen></iframe>
                {% else %}
                <div class="tour-placeholder no-tour">
                    <span>üòî</span>
                    <h3>3D-—Ç—É—Ä –ø–æ–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω</h3>
                    <p>–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —É {{ university.name_short }} –ø–æ–∫–∞ –Ω–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Ç—É—Ä–∞. –ù–æ —Ç—ã –º–æ–∂–µ—à—å –ø–æ—Å–µ—Ç–∏—Ç—å –î–µ–Ω—å –æ—Ç–∫—Ä—ã—Ç—ã—Ö –¥–≤–µ—Ä–µ–π!</p>
                    <a href="{{ university.open_day_url }}" class="btn btn-primary" target="_blank">üìÖ –ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —ç–∫—Å–∫—É—Ä—Å–∏—é</a>
                </div>
                {% endif %}
            </div>
            
            <div class="tour-info">
                {% if university.tour_url %}
                <h3>–ü–æ–∑–Ω–∞–∫–æ–º—å—Å—è —Å –∫–∞–º–ø—É—Å–æ–º –æ–Ω–ª–∞–π–Ω</h3>
                <p>–ù–µ –º–æ–∂–µ—à—å –ø—Ä–∏–µ—Ö–∞—Ç—å –Ω–∞ –î–µ–Ω—å –æ—Ç–∫—Ä—ã—Ç—ã—Ö –¥–≤–µ—Ä–µ–π? –ü—Ä–æ–π–¥–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Ç—É—Ä –∏ –ø–æ—Å–º–æ—Ç—Ä–∏ –∞—É–¥–∏—Ç–æ—Ä–∏–∏, –±–∏–±–ª–∏–æ—Ç–µ–∫—É, —Å—Ç–æ–ª–æ–≤—É—é –∏ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—é —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ –ø—Ä—è–º–æ –∏–∑ –¥–æ–º–∞!</p>
                <div class="tour-features">
                    <div class="tour-feature">
                        <span>‚úì</span> –£—á–µ–±–Ω—ã–µ –∫–æ—Ä–ø—É—Å–∞ –∏ –∞—É–¥–∏—Ç–æ—Ä–∏–∏
                    </div>
                    <div class="tour-feature">
                        <span>‚úì</span> –ù–∞—É—á–Ω—ã–µ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏
                    </div>
                    <div class="tour-feature">
                        <span>‚úì</span> –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∏ —á–∏—Ç–∞–ª—å–Ω—ã–µ –∑–∞–ª—ã
                    </div>
                    <div class="tour-feature">
                        <span>‚úì</span> –°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
                    </div>
                </div>
                {% else %}
                <h3>–ü—Ä–∏—Ö–æ–¥–∏ –∫ –Ω–∞–º –ª–∏—á–Ω–æ!</h3>
                <p>–•–æ—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Ç—É—Ä–∞ –ø–æ–∫–∞ –Ω–µ—Ç, –º—ã –≤—Å–µ–≥–¥–∞ —Ä–∞–¥—ã –≤–∏–¥–µ—Ç—å —Ç–µ–±—è –≤ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–µ. –ó–∞–ø–∏—à–∏—Å—å –Ω–∞ —ç–∫—Å–∫—É—Ä—Å–∏—é –∏ —É–≤–∏–¥—å –≤—Å—ë —Å–≤–æ–∏–º–∏ –≥–ª–∞–∑–∞–º–∏!</p>
                <div class="tour-features">
                    <div class="tour-feature">
                        <span>üì∏</span> –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∫–∞–º–ø—É—Å–∞ –≤ Instagram
                    </div>
                    <div class="tour-feature">
                        <span>üé¨</span> –í–∏–¥–µ–æ –Ω–∞ YouTube –∫–∞–Ω–∞–ª–µ
                    </div>
                    <div class="tour-feature">
                        <span>üìÖ</span> –î–µ–Ω—å –æ—Ç–∫—Ä—ã—Ç—ã—Ö –¥–≤–µ—Ä–µ–π
                    </div>
                    <div class="tour-feature">
                        <span>üö∂</span> –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è —ç–∫—Å–∫—É—Ä—Å–∏—è
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta-section">
    <div class="container">
        <h2>–ì–æ—Ç–æ–≤ —Å—Ç–∞—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–æ–º?</h2>
        <p>–ü–æ–¥–∞–π –∑–∞—è–≤–∫—É –æ–Ω–ª–∞–π–Ω –∏–ª–∏ –ø—Ä–∏—Ö–æ–¥–∏ –Ω–∞ –î–µ–Ω—å –æ—Ç–∫—Ä—ã—Ç—ã—Ö –¥–≤–µ—Ä–µ–π</p>
        <div class="cta-buttons">
            <a href="{{ university.admission_url }}" class="btn btn-primary" target="_blank">
                üìù –ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É
            </a>
            <a href="{{ university.open_day_url }}" class="btn btn-secondary" target="_blank">
                üìÖ –î–µ–Ω—å –æ—Ç–∫—Ä—ã—Ç—ã—Ö –¥–≤–µ—Ä–µ–π
            </a>
            <a href="/test/" class="btn btn-secondary">
                üéØ –ü–æ–¥—Ö–æ–¥–∏—Ç –ª–∏ –º–Ω–µ —ç—Ç–æ—Ç –≤—É–∑?
            </a>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
    // Faculty tabs switching
    document.querySelectorAll('.service-tab').forEach(tab => {
        tab.addEventListener('click', function() {
            const index = this.dataset.index;
            
            // Remove active from all tabs
            document.querySelectorAll('.service-tab').forEach(t => t.classList.remove('active'));
            // Add active to clicked tab
            this.classList.add('active');
            
            // Hide all faculty contents
            document.querySelectorAll('.faculty-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Show selected faculty content
            const selectedContent = document.querySelector(`.faculty-content[data-faculty="${index}"]`);
            if (selectedContent) {
                selectedContent.classList.add('active');
            }
        });
    });
</script>
{% endblock %}
